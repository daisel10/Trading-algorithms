# ============================================================================
# KAIRÃ“S API - Java Spring Boot WebFlux Service
# ============================================================================
# Service-specific configuration for the Java API Gateway
# This file should be combined with the global .env file
# ============================================================================

# ----------------------------------------------------------------------------
# Spring Boot Configuration
# ----------------------------------------------------------------------------
SPRING_PROFILES_ACTIVE=dev
SERVER_PORT=4000

# ----------------------------------------------------------------------------
# Database Configuration (TimescaleDB)
# ----------------------------------------------------------------------------
# These override global settings if needed
# TIMESCALE_HOST=timescale
# TIMESCALE_PORT=5432
# TIMESCALE_DB=kairos_trading
# TIMESCALE_USER=kairos
# TIMESCALE_PASSWORD=kairos_password

# ----------------------------------------------------------------------------
# DragonflyDB Configuration
# ----------------------------------------------------------------------------
# These override global settings if needed
# DRAGONFLY_HOST=dragonfly
# DRAGONFLY_PORT=6379

# ----------------------------------------------------------------------------
# gRPC Client Configuration
# ----------------------------------------------------------------------------
# Connection to Rust Core service
# CORE_GRPC_HOST=kairos-core
# CORE_GRPC_PORT=50051

# For local development:
# CORE_GRPC_HOST=localhost
# CORE_GRPC_PORT=50051

# gRPC Client Settings
GRPC_CLIENT_DEADLINE_MS=5000
GRPC_CLIENT_KEEPALIVE_TIME_MS=30000
GRPC_CLIENT_KEEPALIVE_TIMEOUT_MS=10000

# ----------------------------------------------------------------------------
# WebSocket Configuration
# ----------------------------------------------------------------------------
KAIROS_API_WEBSOCKET_MARKET_DATA_CHANNEL=market_data
KAIROS_API_WEBSOCKET_PATH=/ws
KAIROS_API_WEBSOCKET_MAX_CONNECTIONS=1000

# ----------------------------------------------------------------------------
# CORS Configuration
# ----------------------------------------------------------------------------
# CORS_ALLOWED_ORIGINS=http://localhost:4200,http://kairos-web:80
CORS_ALLOWED_METHODS=GET,POST,PUT,DELETE,OPTIONS
CORS_ALLOWED_HEADERS=*
CORS_ALLOW_CREDENTIALS=true

# ----------------------------------------------------------------------------
# JVM Configuration
# ----------------------------------------------------------------------------
JAVA_OPTS=-Xmx512m -Xms256m

# ----------------------------------------------------------------------------
# Logging Configuration
# ----------------------------------------------------------------------------
# Override global log level for Java components
# LOGGING_LEVEL_ROOT=INFO
# LOGGING_LEVEL_COM_KAIROS=DEBUG
# LOGGING_LEVEL_ORG_SPRINGFRAMEWORK=INFO

# ----------------------------------------------------------------------------
# API Rate Limiting
# ----------------------------------------------------------------------------
API_RATE_LIMIT_REQUESTS_PER_MINUTE=100
API_RATE_LIMIT_BURST=20
